<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tutorial • crockett.package</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Tutorial">
<meta property="og:description" content="crockett.package">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">crockett.package</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Tutorial.html">Tutorial</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="Tutorial_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="Tutorial_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="Tutorial_files/anchor-sections-1.0/anchor-sections.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Tutorial</h1>
                        <h4 class="author">Tessera Crockett</h4>
            
            <h4 class="date">11/16/2020</h4>
      
      
      <div class="hidden name"><code>Tutorial.Rmd</code></div>

    </div>

    
    
<p>Today we will be installing an R package that will help us process and prepare raw data to be analyzed. This data is resulting from an experiment on the wetland plant <em>Juncus effusus</em>, looking at the response to differing doses of ammonium. The goal of this package is to help us create useful biomass and height increase information based on this raw data, and then analyze the two to see if plant height increase can predict biomass increase. First lets install the package from github using the below code.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">"tesseracrockett/crockett.pkg"</span><span class="op">)</span></code></pre></div>
<pre><code>## Downloading GitHub repo tesseracrockett/crockett.pkg@HEAD</code></pre>
<pre><code>## 
##   
  
  
   checking for file 'C:\Users\Tessera\AppData\Local\Temp\RtmpusS3ue\remotes4228719e63c7\tesseracrockett-crockett.pkg-3d2f217/DESCRIPTION' ...
  
   checking for file 'C:\Users\Tessera\AppData\Local\Temp\RtmpusS3ue\remotes4228719e63c7\tesseracrockett-crockett.pkg-3d2f217/DESCRIPTION' ... OK
  
v  checking for file 'C:\Users\Tessera\AppData\Local\Temp\RtmpusS3ue\remotes4228719e63c7\tesseracrockett-crockett.pkg-3d2f217/DESCRIPTION' (681ms)
## 
  
  
  
-  preparing 'crockett.package':
##    checking DESCRIPTION meta-information ...
  
   checking DESCRIPTION meta-information ... 
  
v  checking DESCRIPTION meta-information
## 
  
  
  
-  checking for LF line-endings in source and make files and shell scripts
## 
  
  
  
-  checking for empty or unneeded directories
## 
  
  
  
-  building 'crockett.package_0.1.0.tar.gz'
## 
  
   
## </code></pre>
<pre><code>## Installing package into 'C:/Users/Tessera/AppData/Local/Temp/Rtmp6RttEa/temp_libpath3878348b4139'
## (as 'lib' is unspecified)</code></pre>
<p>Before we look at each function, make sure to load the package into your local or studio version of R.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">crockett.package</span><span class="op">)</span></code></pre></div>
<div id="determining-rootshoot-ratio-for-plant-biomass" class="section level2">
<h2 class="hasAnchor">
<a href="#determining-rootshoot-ratio-for-plant-biomass" class="anchor"></a>Determining root/shoot ratio for plant biomass</h2>
<p>Alone, above_ground or belowground biomass are not particularly reflective of what a given plant may have experienced during it’s growth season, however root to shoot ratio, a ratio (belowground/above_ground) that includes both pieces of plant growth information, can be very informative. Having a function to compute this ratio into a new column that can then be analyzed helps prevent errors typically found in hand calculations and provides this information quickly. The expected inputs are specific to the tibble (dataframe) “ecotox” and are the above_ground and belowground columns, which is biomass weight in grams. The expected output is a new column that has calculated the root to shoot ratio for each sample, the closer to 1, the closer the plant was to having equal roots to shoots.</p>
<p>Now lets load in the data frame and run this function.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></code></pre></div>
<pre><code>## -- Attaching packages --------------------------------------- tidyverse 1.3.0 --</code></pre>
<pre><code>## v ggplot2 3.3.2     v purrr   0.3.4
## v tibble  3.0.4     v dplyr   1.0.2
## v tidyr   1.1.2     v stringr 1.4.0
## v readr   1.4.0     v forcats 0.5.0</code></pre>
<pre><code>## -- Conflicts ------------------------------------------ tidyverse_conflicts() --
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ecotox</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"../inst/extdata/ecotox.csv"</span><span class="op">)</span></code></pre></div>
<pre><code>## 
## -- Column specification --------------------------------------------------------
## cols(
##   ID = col_character(),
##   DOSE = col_double(),
##   ABOVE_GROUND = col_double(),
##   BELOWGROUND = col_double(),
##   HEIGHT_I = col_double(),
##   HEIGHT_F = col_double()
## )</code></pre>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/calc_rootshoot_ratio.html">calc_rootshoot_ratio</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ecotox</span>, BELOWGROUND <span class="op">=</span> <span class="va">ecotox</span><span class="op">$</span><span class="va">BELOWGROUND</span>, ABOVE_GROUND <span class="op">=</span> <span class="va">ecotox</span><span class="op">$</span><span class="va">ABOVE_GROUND</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 16 x 7
##    ID     DOSE ABOVE_GROUND BELOWGROUND HEIGHT_I HEIGHT_F rs_ratio
##    &lt;chr&gt; &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
##  1 CA        0         3.32        2.94     36.2     54.1    0.886
##  2 CB        0         3.2         1.36     43.2     43.8    0.425
##  3 CC        0         3.16        1.52     42.6     51.0    0.481
##  4 CD        0         3.08        1.42     41.3     56.0    0.461
##  5 D2A       2         7.02        4.5      45.1     56.2    0.641
##  6 D2B       2         3.46        3.04     41.3     43.4    0.879
##  7 D2C       2         3.86        3        43.8     45.1    0.777
##  8 D2D       2         4.06        4.36     39.4     47.2    1.07 
##  9 D20A     20         5.48        2.88     45.7     58.0    0.526
## 10 D20B     20         5.64        3.14     41.3     53.9    0.557
## 11 D20C     20         6.16        5.54     45.7     56.2    0.899
## 12 D20D     20         5.12        3.82     46.4     52.0    0.746
## 13 D200A   200        10.9         5.58     42.6     65.4    0.510
## 14 D200B   200         8.72        2.24     43.2     65.5    0.257
## 15 D200C   200         4.96        2.4      41.9     62.0    0.484
## 16 D200D   200         6.74        2.74     44.4     57.4    0.407</code></pre>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ecotox</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_rootshoot_ratio.html">calc_rootshoot_ratio</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ecotox</span>, BELOWGROUND <span class="op">=</span> <span class="va">ecotox</span><span class="op">$</span><span class="va">BELOWGROUND</span>, ABOVE_GROUND <span class="op">=</span> <span class="va">ecotox</span><span class="op">$</span><span class="va">ABOVE_GROUND</span><span class="op">)</span></code></pre></div>
<p>You should be seeing our tibble “ecotox” with the new column “rs_ratio”.</p>
<p>Let’s take a look at the next function in this package.</p>
</div>
<div id="determining-total-vertical-growth-in-plant-samples" class="section level2">
<h2 class="hasAnchor">
<a href="#determining-total-vertical-growth-in-plant-samples" class="anchor"></a>Determining total vertical growth in plant samples</h2>
<p>Our raw data provides us with the initial and final height of the plant, however in order to better analyze our data and compare to other information such as biomass, we need to determine the difference in plant height from initial to final height measurements taken. Running this function helps prevent errors in hand calculations or calculations by rows. The expected inputs are specific to the tibble (dataframe) “ecotox” and include the “HEIGHT_I” and “HEIGHT_F” columns, which are both reported in centimeters. Programmed in this function is a test to make sure that the data provided from the height columns are indeed numerical (no blanks or alphabetical entries). The expected output is a new column titled “fh_diff” which has calculated the difference in the initial and final height of the plant, in centimeters.</p>
<p>Now, let’s process our second function.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">ecotox</span><span class="op">)</span></code></pre></div>
<pre><code>##       ID                 DOSE        ABOVE_GROUND     BELOWGROUND   
##  Length:16          Min.   :  0.0   Min.   : 3.080   Min.   :1.360  
##  Class :character   1st Qu.:  1.5   1st Qu.: 3.425   1st Qu.:2.360  
##  Mode  :character   Median : 11.0   Median : 5.040   Median :2.970  
##                     Mean   : 55.5   Mean   : 5.308   Mean   :3.155  
##                     3rd Qu.: 65.0   3rd Qu.: 6.305   3rd Qu.:3.955  
##                     Max.   :200.0   Max.   :10.940   Max.   :5.580  
##     HEIGHT_I        HEIGHT_F        rs_ratio     
##  Min.   :36.20   Min.   :43.38   Min.   :0.2569  
##  1st Qu.:41.28   1st Qu.:50.03   1st Qu.:0.4760  
##  Median :42.87   Median :55.08   Median :0.5411  
##  Mean   :42.75   Mean   :54.19   Mean   :0.6255  
##  3rd Qu.:44.61   3rd Qu.:57.50   3rd Qu.:0.8026  
##  Max.   :46.36   Max.   :65.52   Max.   :1.0739</code></pre>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/calc_finalheight_diff.html">calc_finalheight_diff</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ecotox</span>, HEIGHT_F <span class="op">=</span> <span class="va">ecotox</span><span class="op">$</span><span class="va">HEIGHT_F</span>, HEIGHT_I <span class="op">=</span> <span class="va">ecotox</span><span class="op">$</span><span class="va">HEIGHT_I</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 16 x 8
##    ID     DOSE ABOVE_GROUND BELOWGROUND HEIGHT_I HEIGHT_F rs_ratio fh_diff
##    &lt;chr&gt; &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;
##  1 CA        0         3.32        2.94     36.2     54.1    0.886   17.9 
##  2 CB        0         3.2         1.36     43.2     43.8    0.425    0.64
##  3 CC        0         3.16        1.52     42.6     51.0    0.481    8.43
##  4 CD        0         3.08        1.42     41.3     56.0    0.461   14.8 
##  5 D2A       2         7.02        4.5      45.1     56.2    0.641   11.1 
##  6 D2B       2         3.46        3.04     41.3     43.4    0.879    2.1 
##  7 D2C       2         3.86        3        43.8     45.1    0.777    1.30
##  8 D2D       2         4.06        4.36     39.4     47.2    1.07     7.83
##  9 D20A     20         5.48        2.88     45.7     58.0    0.526   12.2 
## 10 D20B     20         5.64        3.14     41.3     53.9    0.557   12.6 
## 11 D20C     20         6.16        5.54     45.7     56.2    0.899   10.5 
## 12 D20D     20         5.12        3.82     46.4     52.0    0.746    5.69
## 13 D200A   200        10.9         5.58     42.6     65.4    0.510   22.8 
## 14 D200B   200         8.72        2.24     43.2     65.5    0.257   22.3 
## 15 D200C   200         4.96        2.4      41.9     62.0    0.484   20.0 
## 16 D200D   200         6.74        2.74     44.4     57.4    0.407   12.9</code></pre>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ecotox</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_finalheight_diff.html">calc_finalheight_diff</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ecotox</span>, HEIGHT_F <span class="op">=</span> <span class="va">ecotox</span><span class="op">$</span><span class="va">HEIGHT_F</span>, HEIGHT_I <span class="op">=</span> <span class="va">ecotox</span><span class="op">$</span><span class="va">HEIGHT_I</span><span class="op">)</span></code></pre></div>
<p>You should see first a summary of our tibble with our “rs_ratio” column, and secondly our tibble with our new column “fh_diff”.</p>
<p>Next, let’s take a look at our final function.</p>
</div>
<div id="generating-a-linear-regression-to-see-if-plant-height-predicts-rootshoot-ratio-across-dose" class="section level2">
<h2 class="hasAnchor">
<a href="#generating-a-linear-regression-to-see-if-plant-height-predicts-rootshoot-ratio-across-dose" class="anchor"></a>Generating a linear regression to see if plant height predicts root/shoot ratio across dose</h2>
<p>When working with plant data, it is helpful to see if there are visual cues (such as growth, leaf or shoot health, etc…) that can predict and inform us further about the plant. Here we look at plant height increase as a predictor for the root/shoot ratio, i.e. total biomass ratio, across the dose of ammonium received by samples. This analysis is a great visual for those that are unfamiliar with plant processes in general, especially in relation to nutrient dosing. Let us see if we fit the right model.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">ecotox</span><span class="op">)</span></code></pre></div>
<pre><code>##       ID                 DOSE        ABOVE_GROUND     BELOWGROUND   
##  Length:16          Min.   :  0.0   Min.   : 3.080   Min.   :1.360  
##  Class :character   1st Qu.:  1.5   1st Qu.: 3.425   1st Qu.:2.360  
##  Mode  :character   Median : 11.0   Median : 5.040   Median :2.970  
##                     Mean   : 55.5   Mean   : 5.308   Mean   :3.155  
##                     3rd Qu.: 65.0   3rd Qu.: 6.305   3rd Qu.:3.955  
##                     Max.   :200.0   Max.   :10.940   Max.   :5.580  
##     HEIGHT_I        HEIGHT_F        rs_ratio         fh_diff      
##  Min.   :36.20   Min.   :43.38   Min.   :0.2569   Min.   : 0.640  
##  1st Qu.:41.28   1st Qu.:50.03   1st Qu.:0.4760   1st Qu.: 7.295  
##  Median :42.87   Median :55.08   Median :0.5411   Median :11.665  
##  Mean   :42.75   Mean   :54.19   Mean   :0.6255   Mean   :11.447  
##  3rd Qu.:44.61   3rd Qu.:57.50   3rd Qu.:0.8026   3rd Qu.:15.553  
##  Max.   :46.36   Max.   :65.52   Max.   :1.0739   Max.   :22.830</code></pre>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/ecotox_lin_reg.html">ecotox_lin_reg</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ecotox</span>, rs_ratio <span class="op">=</span> <span class="va">ecotox</span><span class="op">$</span><span class="va">rs_ratio</span>,
                                  fh_diff <span class="op">=</span> <span class="va">ecotox</span><span class="op">$</span><span class="va">fh_diff</span>,
                                  DOSE <span class="op">=</span> <span class="va">ecotox</span><span class="op">$</span><span class="va">DOSE</span>, lm <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">rs_ratio</span><span class="op">~</span><span class="va">fh_diff</span>, <span class="va">ecotox</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula 'y ~ x'</code></pre>
<p><img src="Tutorial_files/figure-html/unnamed-chunk-5-1.png" width="700"> As we see here, the model does fit when the plant samples receive no nutrient; plant height is a predictor of root to shoot ratio. However as plant samples receive differing doses of 2, 20, and 200 ppm ammonium, it becomes clear that plant height increase is a not an accurate or reliable predictor of root to shoot ratio. This can also be seen by our R value, which tells us that only about 46% of the root to shoot ratio of a plant sample is explained by plant height increase; there is a relationship here, but it is not very strong. Further analysis of this data should include an ANOVA.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Tess Crockett.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
